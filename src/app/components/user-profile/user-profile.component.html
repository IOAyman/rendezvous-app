<div class="container-fluid" style="min-height: 100vh; background-color: #efefef; padding: 50px 11px;">
    <div *ngIf="!updateInfos" class="col-sm-8" style="background-color: #fff; display: flex; flex-direction: row;
                justify-content: space-around; min-height: 250px;
                box-shadow: 0 0 2px 0; border-radius: 3px;
                margin: 0 auto; padding: 15px; position: relative;">
        <div class="col-sm-3">
            <img [src]="user.imageURL" width="250px" class="rounded-circle" 
                 alt="{{this.user.firstName}}-{{this.user.familyName}}'s profile picture">
        </div>
        <div class="col-sm-5">
            <h2>Full name : {{ user.firstName }} {{ user.familyName }}</h2>
            <p>Email : {{ user.email }}</p>
            <p>Phone number : {{ user.phoneNumber }}</p>
            <p>Account created in : {{ user.created_at.toDate() | date:'MMMM d, y --- hh:mm aa' }}</p>
            <div class="buttons" style="position: absolute; bottom: 15px;">
                <button class="btn btn-outline-primary px-4" (click)="onUpdateInfosBTN()">Edit profile</button>
            </div>
        </div>
    </div>

    <form *ngIf="updateInfos" [formGroup]="updateInfosForm" (ngSubmit)="onSubmit()" 
           style="background-color: #fff; box-shadow: 0 0 2px 0; 
                  border-radius: 3px; padding: 15px; margin: 0 auto;" class="col-sm-6 form">
        <div style="width: fit-content; float: right; padding: 5px; cursor: pointer;
                    font-size: x-large;" (click)="onUpdateInfosBTN()" title="Cancel edit profile">x</div>
        <h2 style="width: fit-content; margin: 0 auto 50px auto;">
            Update your profile
        </h2>
        <div class="form-group" id="firstName-div">
            <label for="firstName">First Name</label> <br>
            <input formControlName="firstName" type="text" class="form-control">
        </div>
        <div class="form-group" id="familyName-div">
            <label for="familyName">Family Name</label> <br>
            <input formControlName="familyName" type="text" class="form-control">
        </div>
        <div class="form-group" id="phoneNumber-div">
            <label for="phoneNumber">Phone Number</label> <br>
            <input formControlName="phoneNumber" type="tel" class="form-control">
        </div>
        <div class="form-group" id="email-div">
            <label for="email">Email</label> <br>
            <input formControlName="email" type="email" class="form-control">
        </div>
        <br>
        <div class="form-group">
            <p>Ajouter une photo</p>
            <input type="file" (change)="detectFiles($event)" accept="image/*">
            <p *ngIf="fileUploaded" class="text-success">Fichier charg√© !</p>
            <progress value="persentage" max="100" style="width:100%; margin: 5px 0;">
                {{ persentage }}
            </progress>
        </div>
        <br>
        <div>
            <button class="btn btn-success"
                    [disabled]="updateInfosForm.invalid || 
                                fileIsUploading">Save</button>
        </div>
    </form>
</div>

<!-- THE END -->