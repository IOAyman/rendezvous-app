<div class="container-fluid">
    <!-- a button for editing users (only admins can see this) -->
    <div style="text-align: center;">
        <button *ngIf="adminPermission()" (click)="onEditUsers()" 
                 style="margin-top: 15px;" class="btn btn-warning">
            <span *ngIf="!canEditUsrs">Edit Users Roles & infos</span>
            <span *ngIf="canEditUsrs">Close Edit Table</span>
        </button>
    </div>
    <!-- a table for editing users roles & infos, (only admins can see this) -->
    <div *ngIf="adminPermission() && canEditUsrs" class="facebook-style" 
          id="adminTable">
        <h2 style="text-align: center;">Only an admin can see this table</h2>
        <br>
        <table *ngIf="adminPermission()" class="table">
            <thead>
                <tr><th>Display Name</th><th>Email</th><th>Role</th></tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of users" (click)="goToUserProfile(user.uid)" 
                     class="selected-user" title="view Details & edit infos">
                    <td>{{ user.firstName }} {{ user.familyName }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.role }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- users list (admin & editor, can see this)-->
    <div *ngIf="(users.length != 0) && (adminPermission() || editorPermission())" 
          class="facebook-style" id="users-list">
        <h2 style="text-align: center;">Users table</h2>
        <br>
        <app-tables [infos]="users" [tableCol]="usersCols"></app-tables>
    </div>

    <!-- rendezvous list (admin & editor, can see this) -->
    <div *ngIf="(patients.length != 0) && (adminPermission() || editorPermission())" 
          class="facebook-style" id="rendezvous-list">
        <h2 style="text-align: center;">Rendezvous table</h2>
        <br>
        <app-tables [infos]="patients" [tableCol]="rdvsCols"></app-tables>
    </div>

    <!-- chart js (admin, editor & analyst, can see this) -->
    <div class="col-md-8 facebook-style" id="chart-container">
        <div class="chart-header-container">
            <div>
                <label for="backgroundColor">Change Background Color: </label><br>
                <input type="color" name="backgroundColor" id="backgroundColor" 
                       style="width: 150px; cursor: pointer;"
                       [(ngModel)]="backgroundColor">
            </div>
            <button class="btn btn-outline-success" (click)="chartToImg()">
                Export To Image
            </button>
        </div>
        <div id="divChart" [style.background-color]="backgroundColor">
            <canvas id="myChart"></canvas>
        </div>
    </div>
</div>

<!-- THE END -->
